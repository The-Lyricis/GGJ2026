# GGJ2026-Mask主题

## 我们的游戏类型
- 2D 解密
- 俯视角
- 关卡式
- 格子
- 类推箱子

## 核心机制
1. 小人占单个格子位置，不允许重叠，会被障碍物、墙壁阻挡（除非后续设计特殊能力）
2. 玩家为白色小人，需要越过阻碍走到终点（某个格子）
3. 关卡场景中至少存在一种异色（非白）小人，不同颜色小人特性不同，小人未被控制时候是静止的
4. 杀死机制：除中立颜色（如绿色）外，异色小人（包括玩家）如果贴在一起（相邻格子）会按强弱顺序杀死，例：蓝色 > 紫色 > 红 > 黄 > 白色。玩家（白色）最弱；中立角色与其他角色碰不会被杀或杀死其他（会参与阻挡，也能被控制）。战斗结算范围：相邻触发只算上下左右
5. 阻挡机制：同色之间 / 中立颜色与其他颜色 / 异色与小人之间会相互阻挡
6. 面具：场景中可及格存在对应的异色小人的面具。拾取方式：玩家移动到该格子后自动戴上（不可主动摘下）。戴上一种颜色面具时走到另一种面具会切换，新面具生效，旧面具回到初始位置。不能持有多个，切换会断掉旧颜色的控制，转而控制新颜色
7. 共生控制：玩家带上面具后可以接入对应颜色的小人给共生意识，一同控制所有同色小人的行为（玩家不会获得该小人的能力）。控制同色移动时允许排队前进
8. 控制色与战斗色：戴面具时只控制对应颜色小人，并获得“免疫同色”（不会被相同颜色杀死），但不会获得该颜色能力（例如紫色可穿过障碍）

## 回合与结算顺序
1. 读取玩家输入
2. 共生广播 -> 生成所有小人的移动意图
3. 统一移动判定（含冰面滑行到终点/被挡前一格；阻挡用回合开始占位快照；同色排队按链式判定）
4. 同时应用位置
5. 触发与拾取（面具、按钮、机关）
6. 战斗结算（仅移动后一次性检查四向相邻，按战斗色裁决）
7. 胜负判断（到终点/死亡）

## 同步移动与冲突规则
- 同步移动冲突：只有玩家移动方向被阻挡时，所有相同被控小人会不动；否则被控小人被阻挡只单独处理
- 冰面滑动：按钮和面具都占一格。滑出冰面后如果下一格是按钮/面具则触发。遇到人/机关则停下，然后按战斗规则处理
- 战斗裁决：采用整体一次性裁决，被杀后 Actor 从场景消失，不遗留碰撞

## 额外扩充机制
- 障碍、凹槽：共生控制时候，可以用障碍或者凹槽来卡住某些小人来影响位置
- 冰面：对于任何在冰面上移动的小人（包括玩家以及被控制的小人）按照玩家控制方向移动时都会滑到冰面底部，被障碍阻挡或离开冰面
- 按钮（引入机关）：玩家可用共生意识同时移动所有对应颜色的小人来触发按钮（包括自己），开启机关
- 远程小人：接入共生意识朝同一方向远程射击造成击杀（可能是某颜色小人的特性，这个颜色的小人拿着枪）

## 设计小人特性（待设计）
- 绿色中立
- 红色
- 蓝色
- 更多颜色
